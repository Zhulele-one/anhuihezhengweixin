<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Basic -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- Site Metas -->
    <title th:text="${HTML.title}"></title>
    <meta name="keywords" content="安徽和正工程咨询有限公司,和正造价,安徽工程咨询公司">
    <meta name="description" content="安徽和正工程咨询有限公司始建于2016年9月，是一家具有独立法人资格的、新型的现代化企业制公司，企业注册资本1000万元人民币。">
    <meta name="author" content="安徽和正工程咨询有限公司">

    <!-- Site Icons -->
    <link rel="shortcut icon" th:href="@{/hezheng/images/favicon.ico}" type="image/x-icon" />
    <link rel="apple-touch-icon" th:href="@{/hezheng/images/apple-touch-icon.png}">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" th:href="@{/hezheng/css/bootstrap.min.css}">
    <!-- Site CSS -->
    <link rel="stylesheet" th:href="@{/hezheng/style.css}">
    <!-- ALL VERSION CSS -->
    <link rel="stylesheet" th:href="@{/hezheng/css/versions.css}">
    <!-- Responsive CSS -->
    <link rel="stylesheet" th:href="@{/hezheng/css/responsive.css}">
    <!-- Custom CSS -->
    <link rel="stylesheet" th:href="@{/hezheng/css/custom.css}">
    <link rel="stylesheet" th:href="@{/hezheng/css/page.css}">
    <link rel="stylesheet" th:href="@{/hezheng/css/mStyle.css}">

    <!--[if lt IE 9]>
    <script th:src="@{https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js}"></script>
    <script th:src="@{https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js}"></script>
    <![endif]-->

</head>
<body class="politics_version">


<div th:insert="~{head/header :: headerFragment}"></div>
<div th:insert="~{head/header :: titleHideFragment}"></div>


<div id="donate" class="section hidden-sm hidden-xs">
    <div class="container">
        <div class="section-title text-center hidden-xs hidden-sm message-box">
            <h3 th:text="${HTML.textEntity.title}">招贤纳士</h3>
            <h4 th:text="${HTML.textEntity.alia}">zhaoxiannashi</h4>
            <p class="lead" th:text="${HTML.textEntity.abstractText}">如果您想要应聘某职位,可以在这里写下您的简历,我们会在7天之内和您联系</p>
        </div><!-- end title -->
        <div class="contact_form">
            <div class="row">
                <div class="col-md-12">
                    <form id="contact-form" class="row formSubmit">
                        <fieldset class="row-fluid">
                            <div class="form-group has-success col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <label for="pcName">姓名</label>
                                <input type="text" name="name" id="pcName" class="form-control" placeholder="名字">
                            </div>
                            <div class="form-group col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <label for="pcSex">性别</label>
                                <select name="sex" id="pcSex" class="form-control" data-style="btn-white">
                                    <option selected="selected" value="1">男</option>
                                    <option value="0">女</option>
                                </select>
                            </div>
                            <div class="form-group col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <label for="pcAge">年龄</label>
                                <input type="text" name="birth" id="pcAge" class="form-control" placeholder="年龄">
                            </div>
                            <div class="form-group col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <label for="pcBirth">出生日期</label>
                                <input type="date" name="birth" id="pcBirth" class="form-control" placeholder="出生日期">
                            </div>
                            <div class="form-group col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <label for="pcEmail">邮箱</label>
                                <input type="email" name="email" id="pcEmail" class="form-control" placeholder="邮箱">
                            </div>
                            <div class="form-group col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <label for="pcPhone">联系方式</label>
                                <input type="text" name="phone" id="pcPhone" class="form-control" placeholder="手机号">
                            </div>

                            <div class="form-group col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <label for="pcRecord">学历</label>
                                <select name="record" id="pcRecord" class="form-control" data-style="btn-white">
                                    <option th:each="item:${records}" th:value="${item.recordId}">[[${item.recordName}]]</option>
                                </select>
                            </div>
                            <div class="form-group col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <label for="pcPay">期望工资</label>
                                <select name="pay" id="pcPay" class="form-control" data-style="btn-white">
                                    <option th:each="item:${pays}" th:value="${item.payId}">[[${item.payZoom}]]</option>
                                </select>
                            </div>
                            <div class="form-group col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                <label for="pcJob">职务</label>
                                <select name="job" id="pcJob" class="form-control" data-style="btn-white">
                                    <option th:if="${jobId == item.jobId}" selected="selected" th:each="item:${jobs}" th:value="${item.jobId}">[[${item.jobName}]]</option>
                                    <option th:if="${jobId != item.jobId}" th:each="item:${jobs}" th:value="${item.jobId}">[[${item.jobName}]]</option>
                                </select>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="pcFilePath">上传简历</label>
                                <br>
                                <button style="width: 85px;" id="pcFilePathBtn" class="btn btn-info grd1" type="button">上传</button>
                                <p id="pcFilePathName" class="text-left"></p>

                                <input name="filePath" style="display:none" type="file" id="pcFilePath">

                                <p class="help-block">请上传您的简历,大小不超过10m</p>
                            </div>

                            <div class="form-group col-md-12">
                                <label for="pcDescribe">简介</label>
                                <textarea class="form-control" name="describe" id="pcDescribe" rows="6" placeholder="可以在这里简单的写下您的工作经历或个人介绍"></textarea>
                            </div>
                            <div class="form-group col-md-12">
                                <label for="pcHistory">工作经历</label>
                                <textarea class="form-control" name="history" id="pcHistory" rows="6" placeholder="在这里写下您的工作经验"></textarea>
                            </div>
                            <div class="form-group col-lg-offset-9 col-md-3 col-sm-12 col-xs-12 text-center">
                                <button type="button" id="SubmitBtnPc"  class="btn btn-light btn-radius btn-brd grd1 btn-block">加入我们</button>
                            </div>
                        </fieldset>
                    </form>
                </div><!-- end col -->
            </div><!-- end row -->
        </div>

    </div><!-- end container -->
</div><!-- end section -->

<div class="modal-content section visible-xs visible-sm">
    <div class="modal-header" style="background-color: #cf0819;height: 50px;"></div>
    <div class="modal-body">
        <form class="form-horizontal formSubmit">
            <div class="form-group">
                <label for="moName" class="col-sm-2 control-label"><span style="color:#000;">姓名</span></label>
                <div class="col-sm-12 col-xs-12">
                    <input type="text" name="name" class="form-control" id="moName" placeholder="姓名">
                </div>
            </div>

            <div class="form-group">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                    <label for="moPhone"><span style="color:#000;">电话</span></label>
                    <input type="text" name="phone" class="form-control" id="moPhone" placeholder="手机号">
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                    <label for="moEmail"><span style="color:#000;">邮箱</span></label>
                    <input type="text" name="email" class="form-control" id="moEmail" placeholder="邮箱">
                </div>
            </div>

            <div class="form-group">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                    <label for="moSex"><span style="color:#000;">性别</span></label>
                    <select name="sex" id="moSex" class="form-control">
                        <option value="1">男</option>
                        <option value="0">女</option>
                    </select>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                    <label for="moAge"><span style="color:#000;">年龄</span></label>
                    <input type="text" name="age" class="form-control" id="moAge" placeholder="年龄">
                </div>
            </div>

            <div class="form-group">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                    <label for="moBirth"><span style="color:#000;">出生日期</span></label>
                    <input type="date" name="birth" class="form-control" id="moBirth" placeholder="出生日期">
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                    <label for="moRecord"><span style="color:#000;">学历</span></label>
                    <select name="record" id="moRecord" class="form-control" data-style="btn-white">
                        <option th:each="item:${records}" th:value="${item.recordId}">[[${item.recordName}]]</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                    <label for="moJob"><span style="color:#000;">应聘职务</span></label>
                    <select name="job" id="moJob" class="form-control" data-style="btn-white">
                        <option th:if="${jobId == item.jobId}" selected="selected" th:each="item:${jobs}" th:value="${item.jobId}">[[${item.jobName}]]</option>
                        <option th:if="${jobId != item.jobId}" th:each="item:${jobs}" th:value="${item.jobId}">[[${item.jobName}]]</option>
                    </select>
                </div>

                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                    <label for="moPay"><span style="color:#000;">期望薪资</span></label>
                    <select name="pay" id="moPay" class="form-control" data-style="btn-white">
                        <option th:each="item:${pays}" th:value="${item.payId}">[[${item.payZoom}]]</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="moDescribe" class="col-sm-2 control-label"><span style="color:#000;">简介</span></label>
                <div class="col-sm-12 col-xs-12">
                    <textarea name="describe" style="resize:none;" class="form-control" id="moDescribe" rows="6" placeholder="在这里写下您简介"></textarea>
                </div>
            </div>

            <div class="form-group">
                <label for="moHistory" class="col-sm-2 control-label"><span style="color:#000;">工作经历</span></label>
                <div class="col-sm-12 col-xs-12">
                    <textarea name="history" style="resize:none;" class="form-control" id="moHistory" rows="6" placeholder="在这里写下您的工作经验"></textarea>
                </div>
            </div>


            <br>
            <div class="form-group">
                <div class="col-lg-offset-9 col-md-3 col-sm-12 col-xs-12 text-center">
                    <button type="button" id="SubmitBtnMo" class="btn btn-light btn-radius btn-brd grd1 btn-block">加入我们</button>
                </div>
            </div>
        </form>
    </div>
</div>


<div th:insert="~{head/footer :: footerFragment}"></div>
<div th:insert="~{head/footer :: sidebarFragment}"></div>
<div th:insert="~{head/footer :: totopFragment}"></div>
<div th:insert="~{head/resource :: jsFragment}"></div>

<script>
    $(function () {
        $("#SubmitBtnPc").click(function(){
            let name = $('#pcName').val()
            let sex = $('#pcSex').val()
            let age = $('#pcAge').val()
            let birth = $('#pcBirth').val()
            let email = $('#pcEmail').val()
            let phone = $('#pcPhone').val()
            let record = $('#pcRecord').val()
            let pay = $('#pcPay').val()
            let job = $('#pcJob').val()
            let filePath = $('#pcFilePath').val()
            let introduction = $('#pcDescribe').val()
            let history = $('#pcHistory').val();

            let formData = new FormData();
            //第一个参数对应后台传参的名字


            if(name == '' || name == null){
                swal({
                    text: "请输入您的姓名",
                    icon: "error",
                    button: "确定",
                });
                return false;
            }

            if(sex == '' || sex == null){
                swal({
                    text: "请选择您的性别",
                    icon: "error",
                    button: "确定",
                });
                return false;
            }
            if(age == '' || age == null){
                swal({
                    text: "请输入您的年龄",
                    icon: "error",
                    button: "确定",
                });
                return false;
            } else {
                if(age < 18){
                    swal({
                        text: "您的年龄不足",
                        icon: "error",
                        button: "确定",
                    });
                    return false;
                }
            }
            if(birth == '' || birth == null){
                swal({
                    text: "请选择您的出生日期",
                    icon: "error",
                    button: "确定",
                });
                return false;
            }
            if(email == '' || email == null){
                swal({
                    text: "请输入您的邮箱",
                    icon: "error",
                    button: "确定",
                });
                return false;
            } else {
                let trueEmail = /^[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*@[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*\.[a-z]{2,}$/
                if(!trueEmail.test(email)) {
                    swal({
                        text: "请输入正确的邮箱",
                        icon: "error",
                        button: "确定"
                    });
                    return false
                }
            }
            if(phone == '' || phone == null){
                swal({
                    text: "请输入您的电话",
                    icon: "error",
                    button: "确定",
                });
                return false;
            } else {
                let truePhoneNum = /^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/;
                if(phone.length != 11){//手机号码
                    if(!truePhoneNum.test(phone)) {
                        swal({
                            text: "请输入正确的手机号码",
                            icon: "error",
                            button: "确定"
                        });
                        return false
                    }
                }
            }

            if(record == '' || record == null){
                swal({
                    text: "请选择您的学历",
                    icon: "error",
                    button: "确定",
                });
                return false;
            }

            if(pay == '' || pay == null){
                swal({
                    text: "请输入您期望的工资",
                    icon: "error",
                    button: "确定",
                });
                return false;
            }
            if(job == '' || job == null){
                swal({
                    text: "请选择您要应聘的职务",
                    icon: "error",
                    button: "确定",
                });
                return false;
            }
            if(filePath == '' || filePath == null){
                swal({
                    text: "请上传您的简历",
                    icon: "error",
                    button: "确定",
                });
                return false;
            }
            if(history == '' || history == null){
                swal({
                    text: "请写入您的工作经历",
                    icon: "error",
                    button: "确定",
                });
                return false;
            } else {
                if(history.length < 50){
                    swal({
                        text: "至少写50字的工作经历",
                        icon: "error",
                        button: "确定"
                    });
                    return false;
                }
            }

            formData.append("formFile",$('#pcFilePath')[0].files[0]);


            swal({
                    text: "你确定要提交吗,提交后将不能更改",
                    icon: "info",
                    buttons: ["取消","确定"],
                    dangerMode: true,
                }).then((willSubmit) => {
                    if (willSubmit) {

                        $.ajax({
                            type:"POST",
                            url:"[[@{/recruit/receiveImg}]]",
                            dataType: "json",
                            contentType: false,
                            processData: false,
                            async: false,
                            data:formData,
                            success:function(data){
                                if(data.code){
                                    $.ajax({
                                        type:"POST",
                                        url:"[[@{/recruit/recruitForm/message}]]",
                                        dataType:"json",
                                        data:{
                                            name:name,
                                            sex:sex,
                                            age:age,
                                            birth:birth,
                                            email:email,
                                            phone:phone,
                                            record:record,
                                            pay:pay,
                                            job:job,
                                            introduction:introduction,
                                            history:history
                                        },
                                        success:function(data){
                                            if(data.code){
                                                swal({
                                                    title: "提交成功",
                                                    text: "结果会以电话或邮箱的方式通知您",
                                                    icon: "success",
                                                    button: "确定",
                                                }).then((value) => {
                                                    $('#pcName').val('')
                                                    $('#pcSex').val('')
                                                    $('#pcAge').val('')
                                                    $('#pcBirth').val('')
                                                    $('#pcEmail').val('')
                                                    $('#pcPhone').val('')
                                                    $('#pcRecord').val('')
                                                    $('#pcPay').val('')
                                                    $('#pcJob').val('')
                                                    $('#pcFilePath').val('')
                                                    $('#pcDescribe').val('')
                                                    $('#pcHistory').val('')
                                                });
                                            }else{
                                                swal({
                                                    title: "提交失败",
                                                    text: "请重新提交",
                                                    icon: "error",
                                                    button: "确定",
                                                });
                                            }
                                        },
                                        error:function(jqXHR){
                                            swal({
                                                title: "提交失败",
                                                text: "出错了!输入的格式可能存在问题",
                                                icon: "error",
                                                button: "确定",
                                            });
                                        }
                                    });
                                    swal({
                                        title: "保存成功",
                                        text: data.msg,
                                        icon: "success",
                                        button: "确定",
                                    });
                                }else{
                                    swal({
                                        title: "提交失败",
                                        text: data.msg,
                                        icon: "success",
                                        button: "确定",
                                    });
                                }
                            },
                            error:function(jqXHR){
                                swal({
                                    title: "提交",
                                    text: "提交简历出错,简历为空",
                                    icon: "info",
                                    button: "确定",
                                });
                            }
                        });


                    }
            });
        });

        $("#SubmitBtnMo").click(function(){
            var name = $('#moName').val()
            var sex = $('#moSex').val()
            var age = $('#moAge').val()
            var birth = $('#moBirth').val()
            var email = $('#moEmail').val()
            var phone = $('#moPhone').val()
            var record = $('#moRecord').val()
            var pay = $('#moPay').val()
            var job = $('#moJob').val()
            var introduction = $('#moDescribe').val()
            var history = $('#moHistory').val()

            if(name == '' || name == null){
                swal({
                    text: "请输入您的姓名",
                    icon: "error",
                    button: "确定",
                });
                return false;
            }
            if(sex == '' || sex == null){
                swal({
                    text: "请选择您的性别",
                    icon: "error",
                    button: "确定",
                });
                return false;
            }
            if(age == '' || age == null){
                swal({
                    text: "请输入您的年龄",
                    icon: "error",
                    button: "确定",
                });
                return false;
            } else {
                if(age < 18){
                    swal({
                        text: "您的年龄不足",
                        icon: "error",
                        button: "确定",
                    });
                    return false;
                }
            }
            if(birth == '' || birth == null){
                swal({
                    text: "请选择您的出生日期",
                    icon: "error",
                    button: "确定",
                });
                return false;
            }
            if(email == '' || email == null){
                swal({
                    text: "请输入您的邮箱",
                    icon: "error",
                    button: "确定",
                });
                return false;
            } else {
                let trueEmail = /^[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*@[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*\.[a-z]{2,}$/
                if(!trueEmail.test(email)) {
                    swal({
                        text: "请输入正确的邮箱",
                        icon: "error",
                        button: "确定"
                    });
                    return false
                }
            }
            if(phone == '' || phone == null){
                swal({
                    text: "请输入您的电话",
                    icon: "error",
                    button: "确定",
                });
                return false;
            } else {
                let truePhoneNum = /^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/;
                if(phone.length != 11){//手机号码
                    if(!truePhoneNum.test(phone)) {
                        swal({
                            text: "请输入正确的手机号码",
                            icon: "error",
                            button: "确定"
                        });
                        return false
                    }
                }
            }

            if(record == '' || record == null){
                swal({
                    text: "请选择您的学历",
                    icon: "error",
                    button: "确定",
                });
                return false;
            }
            if(pay == '' || pay == null){
                swal({
                    text: "请输入您期望的工资",
                    icon: "error",
                    button: "确定",
                });
                return false;
            }
            if(job == '' || job == null){
                swal({
                    text: "请选择您要应聘的职务",
                    icon: "error",
                    button: "确定",
                });
                return false;
            }
            if(history == '' || history == null){
                swal({
                    text: "请写入您的工作经历",
                    icon: "error",
                    button: "确定",
                });
                return false;
            } else {
                if(backcontent.length < 50){
                    swal({
                        text: "至少写50字的工作经历",
                        icon: "error",
                        button: "确定"
                    });
                    return false;
                }
            }


            swal({
                text: "你确定要提交吗,提交后将不能更改",
                icon: "info",
                buttons: ["取消","确定"],
                dangerMode: true,
            }).then((willSubmit) => {
                if (willSubmit) {
                    $.ajax({
                        type:"POST",
                        url:"[[@{/recruit/recruitForm/message}]]",
                        dataType:"json",
                        data:{
                            name:name,
                            sex:sex,
                            age:age,
                            birth:birth,
                            email:email,
                            phone:phone,
                            record:record,
                            pay:pay,
                            job:job,
                            introduction:introduction,
                            history:history
                        },
                        success:function(data){
                            if(data.code){
                                swal({
                                    title: "提交成功",
                                    text: "结果会以电话或邮箱的方式通知您",
                                    icon: "success",
                                    button: "确定",
                                }).then((value) => {
                                    if(value){
                                        $('#moName').val('')
                                        $('#moSex').val('')
                                        $('#moAge').val('')
                                        $('#moBirth').val('')
                                        $('#moEmail').val('')
                                        $('#moPhone').val('')
                                        $('#moRecord').val('')
                                        $('#moPay').val('')
                                        $('#moJob').val('')
                                        $('#moDescribe').val('')
                                        $('#moHistory').val('')
                                        window.location.reload()
                                    }
                                });
                            }else{
                                swal({
                                    title: "提交失败",
                                    text: "请重新提交",
                                    icon: "success",
                                    button: "确定",
                                });
                            }
                        },
                        error:function(jqXHR){
                            swal({
                                title: "提交失败",
                                text: "出错了!输入的格式可能存在问题",
                                icon: "error",
                                button: "确定",
                            });
                        }
                    });
                }
            });
        });
    })


</script>
</body>
</html>